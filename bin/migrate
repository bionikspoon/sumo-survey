#! /usr/bin/env node
/* eslint no-console:0 */
require('babel-register');

const path = require('path');
const app = require(path.resolve(__dirname, '../'));

const automigrate = require('./migrations/10-automigrate');
const createAdmin = require('./migrations/20-create-admin');
const createGuests = require('./migrations/30-create-guests');
const createQuestions = require('./migrations/40-create-questions');
const createResponses = require('./migrations/50-create-responses');
const disconnect = require('./migrations/90-disconnect');

automigrate(app)
  .then(() => createAdmin(app))
  .then(() => createGuests(app))
  .then(() => createQuestions(app))
  .then(() => createResponses(app))
  .then(() => disconnect(app))
  .catch(error => {
    console.error(error);
    process.exit(1);
  });
